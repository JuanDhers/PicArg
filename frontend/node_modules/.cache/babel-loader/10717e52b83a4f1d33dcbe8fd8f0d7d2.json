{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\juand\\\\Desktop\\\\fotoarg\\\\frontend\\\\src\\\\components\\\\FotosEditorModals.js\";\nimport React, { useState, useEffect } from 'react';\nimport Modal from 'react-bootstrap/Modal';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport { faEnvelopeOpenText } from '@fortawesome/free-solid-svg-icons';\n\nconst FotosEditorModals = props => {\n  //Decalaración de las variables de estado\n  const [fotoTitulo, setFotoTitulo] = useState('');\n  const [fotoPrecio, setFotoPrecio] = useState('');\n  const [fotoImage, setFotoImage] = useState('');\n  const [previewFotoImage, setpreviewFotoImage] = useState('');\n\n  const handleFotoNameChange = event => {\n    //para saber que evento llama a la función \n    setFotoTitulo(event.target.value); //toma el valor cada vez que cambia la caja de texto y lo pone dentro de la variable de estado.\n  }; //recibe el evento onChange evento \n\n\n  const handleFotoPrecioChange = event => {\n    //para saber que evento llama a la función \n    setFotoPrecio(event.target.value); //toma el valor se qeda con la primera foto y lo pone dentro de la variable de estado.\n  };\n\n  const handleFotoImageChange = event => {\n    //para saber que evento llama a la función \n    setFotoImage(event.target.files[0]); //toma el valor cada vez que cambia la caja de texto y lo pone dentro de la variable de estado.\n\n    setpreviewFotoImage(URL.createObjectURL(event.target.files[0])); //obtengo el archivo aue se esta por cargar \n    //URL.createObjectURL crea el objeto con la \n    //dirección que recibe de event.target\n  }; //envio de la carga de la foto, manda a guardar.\n\n\n  const handleSave = () => {\n    const formData = new FormData(); //recibe el paquete con el titulo, el precio y la imagen.\n\n    formData.append('fotoTitulo', fotoTitulo);\n    formData.append('fotoPrecio', fotoPrecio);\n    formData.append('fotoImage', fotoImage);\n    fetch('http://localhost:8888/fotos', {\n      method: 'POST',\n      body: formData,\n      credentials: 'include'\n    }).then(response => response.json()).then(data => {\n      //si el estado de carga es ok da mensaje de carga correcta\n      if (data.status === 'ok') {\n        //llama a la función onFotoSaved que esta en el padre (ListadoFotos), \n        //para que se cierre el modal si se cargo ok\n        // pasa también como el mesanje de carga ok.\n        props.onFotoSaved(data.message);\n      } // en caso de error avisa.\n      else {\n          alert(data.message);\n        }\n    }).catch(error => {\n      console.log('Error!!!');\n    });\n  }; //Esta función lo que hace es diferenciar si una foto se esta cargando o se esta modificando\n  //props.idPhoto viene de listadoFotos\n\n\n  useEffect(() => {\n    if (props.idPhoto) {\n      alert('modo de edicion.... para la foto ' + props.idPhoto);\n    } else {\n      setFotoTitulo('');\n      setFotoPrecio('');\n      setFotoImage('');\n    }\n  }, [props.idPhoto] // hace que vuelva a cargar solo si se cambia el id de producto -\n  ); //RETORNO DE FOTOS EDITOR MODAL\n\n  return /*#__PURE__*/React.createElement(Modal, {\n    show: props.show,\n    onHide: props.handleHide,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, \"Publicaci\\xF3n\")), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 21\n    }\n  }, \"Titulo\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    value: fotoTitulo,\n    onChange: handleFotoNameChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  }, \"Precio\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    value: fotoPrecio,\n    onChange: handleFotoPrecioChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"d-flex justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  }, previewFotoImage && /*#__PURE__*/React.createElement(\"img\", {\n    style: {\n      height: \"25vh\"\n    },\n    src: previewFotoImage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 21\n    }\n  }, \"imagen\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"file\",\n    onChange: handleFotoImageChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 21\n    }\n  })))), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }\n  }, \"Cancelar\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"success\",\n    onClick: handleSave // cuando hacen click llama a ala función que guarda el estado.\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }\n  }, \"Subir\")));\n};\n\nexport default FotosEditorModals;","map":{"version":3,"sources":["C:/Users/juand/Desktop/fotoarg/frontend/src/components/FotosEditorModals.js"],"names":["React","useState","useEffect","Modal","Form","Button","faEnvelopeOpenText","FotosEditorModals","props","fotoTitulo","setFotoTitulo","fotoPrecio","setFotoPrecio","fotoImage","setFotoImage","previewFotoImage","setpreviewFotoImage","handleFotoNameChange","event","target","value","handleFotoPrecioChange","handleFotoImageChange","files","URL","createObjectURL","handleSave","formData","FormData","append","fetch","method","body","credentials","then","response","json","data","status","onFotoSaved","message","alert","catch","error","console","log","idPhoto","show","handleHide","height"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { faEnvelopeOpenText } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst FotosEditorModals = (props) =>{\r\n\r\n//Decalaración de las variables de estado\r\nconst [fotoTitulo, setFotoTitulo] =useState('');\r\nconst [fotoPrecio, setFotoPrecio] = useState('');\r\nconst [fotoImage, setFotoImage] = useState('');\r\nconst [previewFotoImage, setpreviewFotoImage] = useState('');\r\n\r\n\r\n\r\nconst handleFotoNameChange = (event)=>{\r\n    //para saber que evento llama a la función \r\n       setFotoTitulo (event.target.value);//toma el valor cada vez que cambia la caja de texto y lo pone dentro de la variable de estado.\r\n    }\r\n\r\n//recibe el evento onChange evento \r\nconst handleFotoPrecioChange = (event)=>{\r\n//para saber que evento llama a la función \r\n   setFotoPrecio (event.target.value);//toma el valor se qeda con la primera foto y lo pone dentro de la variable de estado.\r\n}\r\n\r\n\r\nconst handleFotoImageChange = (event)=>{\r\n     //para saber que evento llama a la función \r\n      setFotoImage (event.target.files[0]);//toma el valor cada vez que cambia la caja de texto y lo pone dentro de la variable de estado.\r\n       \r\n      setpreviewFotoImage(URL.createObjectURL(event.target.files[0])); //obtengo el archivo aue se esta por cargar \r\n                                                                        //URL.createObjectURL crea el objeto con la \r\n                                                                        //dirección que recibe de event.target\r\n        }\r\n\r\n\r\n    //envio de la carga de la foto, manda a guardar.\r\nconst handleSave = () =>{\r\n   const formData = new FormData(); //recibe el paquete con el titulo, el precio y la imagen.\r\n\r\n   formData.append('fotoTitulo', fotoTitulo);\r\n   formData.append('fotoPrecio', fotoPrecio);\r\n   formData.append('fotoImage', fotoImage);\r\n\r\n   fetch('http://localhost:8888/fotos', {\r\n       method: 'POST',\r\n       body: formData,  \r\n       credentials: 'include'\r\n   })\r\n   .then( response => response.json() )\r\n   .then( data => {\r\n       //si el estado de carga es ok da mensaje de carga correcta\r\n       if(data.status === 'ok'){\r\n           //llama a la función onFotoSaved que esta en el padre (ListadoFotos), \r\n           //para que se cierre el modal si se cargo ok\r\n           // pasa también como el mesanje de carga ok.\r\n           props.onFotoSaved(data.message)\r\n       }\r\n       // en caso de error avisa.\r\n       else{\r\n        alert(data.message);\r\n       }\r\n   })\r\n   .catch( error => {\r\n       console.log('Error!!!');\r\n   })\r\n}\r\n\r\n//Esta función lo que hace es diferenciar si una foto se esta cargando o se esta modificando\r\n//props.idPhoto viene de listadoFotos\r\nuseEffect(\r\n    ()=>{\r\n        if (props.idPhoto){\r\n            alert('modo de edicion.... para la foto ' + props.idPhoto);\r\n\r\n        }\r\n        else{\r\n            setFotoTitulo('');\r\n            setFotoPrecio('');\r\n           setFotoImage('');\r\n            \r\n        }\r\n    },[props.idPhoto]// hace que vuelva a cargar solo si se cambia el id de producto -\r\n)\r\n\r\n//RETORNO DE FOTOS EDITOR MODAL\r\nreturn(\r\n\r\n    <Modal show={props.show} onHide={props.handleHide}>\r\n        <Modal.Header closeButton>\r\n            <Modal.Title>Publicación</Modal.Title>\r\n        </Modal.Header>\r\n\r\n        <Modal.Body>\r\n            <Form>\r\n                <Form.Group>\r\n                    <Form.Label>Titulo</Form.Label>\r\n\r\n                    <Form.Control \r\n                                type=\"text\"\r\n                                value={fotoTitulo}\r\n                                onChange={handleFotoNameChange}\r\n                                />\r\n                </Form.Group>\r\n\r\n                <Form.Group>\r\n                    <Form.Label>Precio</Form.Label>\r\n\r\n                    <Form.Control \r\n                                type=\"text\"\r\n                                value={fotoPrecio}\r\n                                onChange={handleFotoPrecioChange}\r\n                                />\r\n                </Form.Group>\r\n                {/* Previsualización de la imgena a cargar */}\r\n                <Form.Group className=\"d-flex justify-content-center\">\r\n                    {previewFotoImage && \r\n                    <img style={{height: \"25vh\"}} src={previewFotoImage}/>\r\n                    }\r\n                </Form.Group>\r\n\r\n                <Form.Group>\r\n                    <Form.Label>imagen</Form.Label>\r\n\r\n                    <Form.Control   type=\"file\"\r\n                                    onChange={handleFotoImageChange}\r\n                                />\r\n                </Form.Group>\r\n\r\n            </Form>\r\n        </Modal.Body>\r\n\r\n        <Modal.Footer>\r\n            <Button variant=\"secondary\">\r\n                Cancelar\r\n            </Button>\r\n\r\n            <Button variant=\"success\"\r\n                    onClick ={handleSave}// cuando hacen click llama a ala función que guarda el estado.\r\n                    >\r\n                Subir\r\n            </Button>\r\n\r\n        </Modal.Footer>\r\n\r\n    </Modal>\r\n);\r\n}\r\n\r\nexport default FotosEditorModals"]},"metadata":{},"sourceType":"module"}