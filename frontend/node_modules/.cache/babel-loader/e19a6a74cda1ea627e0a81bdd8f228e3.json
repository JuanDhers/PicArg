{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\juand\\\\Desktop\\\\fotoarg\\\\frontend\\\\src\\\\components\\\\PubFilter.js\";\nimport React, { useState, useEffect } from 'react';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport '../components/styles/PubFilter.css';\n\nconst PubFilter = props => {\n  const [categorias, setCategorias] = useState([{\n    id: '',\n    nombre: 'Todas'\n  }]); // La uso como referencia al control para que cuando cambie el filtro traiga el cambio    \n\n  const categoriaRef = useState('null'); // esta vinculada al select.\n  // const precioDesdeRef = useState('null');\n  // const precioHastaRef = useState('null');\n  // const ordenRef = useState('null');\n\n  useEffect(() => {\n    fetch('http://localhost:8888/categorias').then(response => response.json()).then(dataCategorias => {\n      setCategorias(dataCategorias);\n    });\n  }, []);\n\n  const categoriasOptions = () => {\n    let categories = categorias.map(categoria => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        value: categoria.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 17\n        }\n      }, categoria.nombre);\n    });\n    categories.unshift( /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 28\n      }\n    }, \"Todas\")); //esta linea agrega al desplegable de categorias Todas\n\n    return categories;\n  };\n\n  const handleFilterChange = () => {\n    props.onFilterChange({\n      categoria: categoriaRef.current.value\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"filtroCategorias\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 41\n    }\n  }, \"Categorias\"), /*#__PURE__*/React.createElement(Form.Control, {\n    as: \"select\",\n    onChange: handleFilterChange,\n    ref: categoriaRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 41\n    }\n  }, categoriasOptions())));\n};\n\nexport default PubFilter;","map":{"version":3,"sources":["C:/Users/juand/Desktop/fotoarg/frontend/src/components/PubFilter.js"],"names":["React","useState","useEffect","Row","Col","Form","Button","PubFilter","props","categorias","setCategorias","id","nombre","categoriaRef","fetch","then","response","json","dataCategorias","categoriasOptions","categories","map","categoria","unshift","handleFilterChange","onFilterChange","current","value"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,GAAP,MAAgB,qBAAhB;AACA,OAAOC,GAAP,MAAgB,qBAAhB;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAO,oCAAP;;AAEA,MAAMC,SAAS,GAAIC,KAAD,IAAU;AAExB,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BT,QAAQ,CAAC,CAAC;AAACU,IAAAA,EAAE,EAAC,EAAJ;AAAQC,IAAAA,MAAM,EAAC;AAAf,GAAD,CAAD,CAA5C,CAFwB,CAI5B;;AACI,QAAMC,YAAY,GAAGZ,QAAQ,CAAC,MAAD,CAA7B,CALwB,CAKgB;AACxC;AACA;AACA;;AAGAC,EAAAA,SAAS,CAAC,MAAI;AACVY,IAAAA,KAAK,CAAC,kCAAD,CAAL,CACCC,IADD,CACOC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADnB,EAEEF,IAFF,CAGIG,cAAc,IAAG;AACbR,MAAAA,aAAa,CAACQ,cAAD,CAAb;AACH,KALL;AAOH,GARQ,EAQN,EARM,CAAT;;AAUA,QAAMC,iBAAiB,GAAG,MAAI;AAC1B,QAAIC,UAAU,GAAGX,UAAU,CAACY,GAAX,CAAgBC,SAAS,IAAG;AACzC,0BACI;AAAQ,QAAA,KAAK,EAAEA,SAAS,CAACX,EAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKW,SAAS,CAACV,MADf,CADJ;AAKH,KANgB,CAAjB;AAQAQ,IAAAA,UAAU,CAACG,OAAX,eAAmB;AAAQ,MAAA,KAAK,EAAC,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAnB,EAT0B,CAS2B;;AAErD,WAAOH,UAAP;AACH,GAZD;;AAcA,QAAMI,kBAAkB,GAAG,MAAK;AAE5BhB,IAAAA,KAAK,CAACiB,cAAN,CACI;AACIH,MAAAA,SAAS,EAAIT,YAAY,CAACa,OAAb,CAAqBC;AADtC,KADJ;AAOH,GATD;;AAWA,sBACQ,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAOwB,oBAAC,IAAD,CAAM,KAAN;AAAY,IAAA,SAAS,EAAC,kBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI,oBAAC,IAAD,CAAM,OAAN;AAAgB,IAAA,EAAE,EAAC,QAAnB;AACgB,IAAA,QAAQ,EAAEH,kBAD1B;AAEgB,IAAA,GAAG,EAAEX,YAFrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGiBM,iBAAiB,EAHlC,CAFJ,CAPxB,CADR;AA0BH,CAxED;;AA0EA,eAAeZ,SAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport '../components/styles/PubFilter.css'\r\n\r\nconst PubFilter = (props) =>{\r\n\r\n    const [categorias, setCategorias] = useState([{id:'', nombre:'Todas'}]);\r\n\r\n// La uso como referencia al control para que cuando cambie el filtro traiga el cambio    \r\n    const categoriaRef = useState('null');  // esta vinculada al select.\r\n    // const precioDesdeRef = useState('null');\r\n    // const precioHastaRef = useState('null');\r\n    // const ordenRef = useState('null');\r\n                \r\n\r\n    useEffect(()=>{\r\n        fetch('http://localhost:8888/categorias')\r\n        .then( response => response.json()\r\n        ).then(\r\n            dataCategorias =>{\r\n                setCategorias(dataCategorias);\r\n            }\r\n        )\r\n    }, [])\r\n\r\n    const categoriasOptions = ()=>{\r\n        let categories = categorias.map( categoria =>{\r\n            return (\r\n                <option value={categoria.id}>\r\n                    {categoria.nombre}\r\n                </option>\r\n            )\r\n        })\r\n\r\n        categories.unshift(<option value=''>Todas</option>); //esta linea agrega al desplegable de categorias Todas\r\n\r\n        return categories;\r\n    }\r\n\r\n    const handleFilterChange = () =>{\r\n\r\n        props.onFilterChange(\r\n            {\r\n                categoria:   categoriaRef.current.value,\r\n\r\n            }\r\n        )\r\n        \r\n    }\r\n\r\n    return(\r\n            <Row>\r\n                  \r\n                  {/* <Col xs={12} md={11} lg={8}>\r\n                        <Form>\r\n                            <Row>\r\n\r\n                                <Col xs={12} md={5}> */}\r\n                                    <Form.Group className=\"filtroCategorias\">\r\n                                        <Form.Label>Categorias</Form.Label>\r\n                                        <Form.Control   as=\"select\"\r\n                                                        onChange={handleFilterChange}\r\n                                                        ref={categoriaRef}>\r\n                                                        {categoriasOptions()}\r\n\r\n                                        </Form.Control>\r\n                                    </Form.Group>\r\n                                {/* </Col> \r\n\r\n                            </Row>\r\n                        </Form>\r\n                  </Col>   */}\r\n            </Row>\r\n\r\n    );\r\n\r\n}\r\n\r\nexport default PubFilter;"]},"metadata":{},"sourceType":"module"}